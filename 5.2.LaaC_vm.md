## Arsalan DEVOPS-24

### 5.2. Применение принципов IaaC в работе с виртуальными машинами

####  Задача 1

> Опишите своими словами основные преимущества применения на практике IaaC паттернов.
<details>
<summary>Ответ</summary>

* Ускорение производства и вывода продукта на рынок
* Стабильность среды, устранение дрейфа конфигураций
* Более быстрая и эффективная разработка

</details>

> Какой из принципов IaaC является основополагающим?
<details>
<summary>Ответ</summary>

Идемпотентность — это свойство объекта или операции, при повторном выполнении 
которой мы получаем результат идентичный предыдущему и всем последующим выполнениям
</details>

#### Задача 2

> Чем Ansible выгодно отличается от других систем управление конфигурациями?
<details>
<summary>Ответ</summary>

1. Легкое развертывание и низкий порог входа
2. Не нужно использовать агента
3. Связь осуществляется с помощью SSH

</details>

> Какой, на ваш взгляд, метод работы систем конфигурации более надёжный push или pull?
<details>
<summary>Ответ</summary>
Push надежнее, в pull режиме сложнее спрогнозировать применение конфигурации.

</details>

#### Задача 3

Установить на личный компьютер:
> VirtualBox

<details>
<summary>Ответ</summary>

![](52/31.png)
</details>

> Vagrant
<details>
<summary>Ответ</summary>

![](52/32.png)
</details>

> Ansible
<details>
<summary>Ответ</summary>

![](52/33.png)
![](52/34.png)
</details>

### Задача 4 (*)

Воспроизвести практическую часть лекции самостоятельно.

* Создать виртуальную машину.
* Зайти внутрь ВМ, убедиться, что Docker установлен с помощью команды

<details>
<summary>Ответ</summary>
Так как у меня домашний пк на ОС Windows, поэтому создал два отдельный ВМ для ansible и docker. 
Примонтировал общий диск для этих ВМ, где лежат ssh ключи и скрипты для конфигурирования ВМ.   

Кофигурация Vagrant файла, тут стразу импортирую ssh ключи в ВМ docker и отключаю авторизацию по паролю. 
![](52/35.png)

Cкрипт для конфигурирования ВМ Ansible:
здесь устанавливаю сам ansible, переношу в домашнюю папку файлы конфигурации ansible и ssh ключи пользователю vagrant, назначаю необходимые права и запускаю плейбук от пользователя vagrant.  
![](52/36.png)

Конфигурационные файлы и плейбук ansible: 

![](52/36.png)
![](52/37.png)
![](52/38.png)
![](52/39.png)

Результат:

![](52/39_1.png)
</details>